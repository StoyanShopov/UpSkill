{"ast":null,"code":"\"use strict\"; // Dependencies\n\nvar parseUrl = require(\"parse-url\"),\n    isSsh = require(\"is-ssh\");\n/**\n * gitUp\n * Parses the input url.\n *\n * @name gitUp\n * @function\n * @param {String} input The input url.\n * @return {Object} An object containing the following fields:\n *\n *  - `protocols` (Array): An array with the url protocols (usually it has one element).\n *  - `port` (null|Number): The domain port.\n *  - `resource` (String): The url domain (including subdomains).\n *  - `user` (String): The authentication user (usually for ssh urls).\n *  - `pathname` (String): The url pathname.\n *  - `hash` (String): The url hash.\n *  - `search` (String): The url querystring value.\n *  - `href` (String): The input url.\n *  - `protocol` (String): The git url protocol.\n *  - `token` (String): The oauth token (could appear in the https urls).\n */\n\n\nfunction gitUp(input) {\n  var output = parseUrl(input);\n  output.token = \"\";\n  var splits = output.user.split(\":\");\n\n  if (splits.length === 2) {\n    if (splits[1] === \"x-oauth-basic\") {\n      output.token = splits[0];\n    } else if (splits[0] === \"x-token-auth\") {\n      output.token = splits[1];\n    }\n  }\n\n  if (isSsh(output.protocols) || isSsh(input)) {\n    output.protocol = \"ssh\";\n  } else if (output.protocols.length) {\n    output.protocol = output.protocols[0];\n  } else {\n    output.protocol = \"file\";\n  }\n\n  output.href = output.href.replace(/\\/$/, \"\");\n  return output;\n}\n\nmodule.exports = gitUp;","map":{"version":3,"sources":["H:/Programming Repositories/Titans/Web/UpSkill.Web/ClientApp/node_modules/git-up/lib/index.js"],"names":["parseUrl","require","isSsh","gitUp","input","output","token","splits","user","split","length","protocols","protocol","href","replace","module","exports"],"mappings":"AAAA,a,CAEA;;AAEA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,WAAD,CAAtB;AAAA,IACIC,KAAK,GAAGD,OAAO,CAAC,QAAD,CADnB;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,SAASE,KAAT,CAAeC,KAAf,EAAsB;AAClB,MAAIC,MAAM,GAAGL,QAAQ,CAACI,KAAD,CAArB;AACAC,EAAAA,MAAM,CAACC,KAAP,GAAe,EAAf;AAEA,MAAIC,MAAM,GAAGF,MAAM,CAACG,IAAP,CAAYC,KAAZ,CAAkB,GAAlB,CAAb;;AACA,MAAIF,MAAM,CAACG,MAAP,KAAkB,CAAtB,EAAyB;AACrB,QAAIH,MAAM,CAAC,CAAD,CAAN,KAAc,eAAlB,EAAmC;AAC/BF,MAAAA,MAAM,CAACC,KAAP,GAAeC,MAAM,CAAC,CAAD,CAArB;AACH,KAFD,MAEO,IAAIA,MAAM,CAAC,CAAD,CAAN,KAAc,cAAlB,EAAkC;AACrCF,MAAAA,MAAM,CAACC,KAAP,GAAeC,MAAM,CAAC,CAAD,CAArB;AACH;AACJ;;AAED,MAAIL,KAAK,CAACG,MAAM,CAACM,SAAR,CAAL,IAA2BT,KAAK,CAACE,KAAD,CAApC,EAA6C;AACzCC,IAAAA,MAAM,CAACO,QAAP,GAAkB,KAAlB;AACH,GAFD,MAEO,IAAIP,MAAM,CAACM,SAAP,CAAiBD,MAArB,EAA6B;AAChCL,IAAAA,MAAM,CAACO,QAAP,GAAkBP,MAAM,CAACM,SAAP,CAAiB,CAAjB,CAAlB;AACH,GAFM,MAEA;AACHN,IAAAA,MAAM,CAACO,QAAP,GAAkB,MAAlB;AACH;;AAEDP,EAAAA,MAAM,CAACQ,IAAP,GAAcR,MAAM,CAACQ,IAAP,CAAYC,OAAZ,CAAoB,KAApB,EAA2B,EAA3B,CAAd;AACA,SAAOT,MAAP;AACH;;AAEDU,MAAM,CAACC,OAAP,GAAiBb,KAAjB","sourcesContent":["\"use strict\";\n\n// Dependencies\n\nvar parseUrl = require(\"parse-url\"),\n    isSsh = require(\"is-ssh\");\n\n/**\n * gitUp\n * Parses the input url.\n *\n * @name gitUp\n * @function\n * @param {String} input The input url.\n * @return {Object} An object containing the following fields:\n *\n *  - `protocols` (Array): An array with the url protocols (usually it has one element).\n *  - `port` (null|Number): The domain port.\n *  - `resource` (String): The url domain (including subdomains).\n *  - `user` (String): The authentication user (usually for ssh urls).\n *  - `pathname` (String): The url pathname.\n *  - `hash` (String): The url hash.\n *  - `search` (String): The url querystring value.\n *  - `href` (String): The input url.\n *  - `protocol` (String): The git url protocol.\n *  - `token` (String): The oauth token (could appear in the https urls).\n */\nfunction gitUp(input) {\n    var output = parseUrl(input);\n    output.token = \"\";\n\n    var splits = output.user.split(\":\");\n    if (splits.length === 2) {\n        if (splits[1] === \"x-oauth-basic\") {\n            output.token = splits[0];\n        } else if (splits[0] === \"x-token-auth\") {\n            output.token = splits[1];\n        }\n    }\n\n    if (isSsh(output.protocols) || isSsh(input)) {\n        output.protocol = \"ssh\";\n    } else if (output.protocols.length) {\n        output.protocol = output.protocols[0];\n    } else {\n        output.protocol = \"file\";\n    }\n\n    output.href = output.href.replace(/\\/$/, \"\");\n    return output;\n}\n\nmodule.exports = gitUp;"]},"metadata":{},"sourceType":"script"}